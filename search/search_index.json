{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"About","text":"<p>Hi, I'm a BI Developer, Data Analyst and Power BI expert.</p> <p>I build intuitive dashboards and automated reporting solutions that transform complex data into clear, actionable insights. </p> <p>I'm a problem solver and insights facilitator at heart, helping businesses make smarter, data-driven decisions.</p> Contact Details <p>  clement_villalard@outlook.com</p> <p>  +44 7 857 923 055</p> <p>  Find me on LinkedIn</p>"},{"location":"#professional-journey","title":"Professional Journey","text":"<pre><code>graph LR\n  A[**Energy Consultant** &lt;br&gt;&lt;br&gt; *Dieppe Pays Normand* &lt;br&gt; *2019 \u2014 2020*] --&gt; B[**Data Analyst** &lt;br&gt;&lt;br&gt; *Businesswise Solutions* &lt;br&gt; *2021 \u2014 2023*];\n  B --&gt; C[**Senior Data Analyst** &lt;br&gt;&lt;br&gt; *Businesswise Solutions* &lt;br&gt; *2023*];\n  B --&gt; E[**Freelance &lt;br&gt;Data Analyst/BI Developer** &lt;br&gt;&lt;br&gt; *2022 \u2014 Present*]\n  C --&gt; D[**BI Developer** &lt;br&gt;&lt;br&gt; *Sustainable Energy First* &lt;br&gt; *2023 \u2014 Present*];</code></pre>"},{"location":"#certifications","title":"Certifications","text":"<ul> <li>Microsoft Certified: Power BI Data Analyst Associate - Microsoft</li> <li>Microsoft Fabric from Rookie to Rock Star - RADACAD</li> <li>Data Analyst Associate - DataCamp</li> <li>Matplotlib Journey - Yan Holtz</li> <li>Lean Six Sigma Yellow Belt - The Knowledge Academy</li> </ul>"},{"location":"DAX/","title":"DAX/UDF","text":"<p>You will find in this section a collection of useful DAX expressions and UDF (User-defined functions)</p>"},{"location":"DAX/#data-dictionary","title":"Data Dictionary","text":"<p>We can use the INFO.VIEW functions and put the results in one table to get our Data Dictionary.</p> <p></p>Info Measures Table<pre><code>Info Measures = INFO.VIEW.MEASURES()\n</code></pre> Info Columns Table<pre><code>Info Columns = INFO.VIEW.COLUMNS()\n</code></pre> Info Tables Table<pre><code>Info Tables = INFO.VIEW.TABLES()\n</code></pre> Info Relationships Table<pre><code>Info Relationships = INFO.VIEW.RELATIONSHIPS()\n</code></pre><p></p> Generate a Data Dictionary in DAX<pre><code>Data Dictionary = \nVAR _columns = SELECTCOLUMNS(\n    FILTER(\n        INFO.VIEW.COLUMNS(),\n        [Table] &lt;&gt; \"Data Dictionary\" &amp;&amp; NOT([IsHidden])\n    ),\n    \"Type\", \"Column\",\n    \"Name\", [Name],\n    \"Description\", [Description],\n    \"Location\", [Table],\n    \"Expression\", [Expression]\n)\n\nVAR _measures = SELECTCOLUMNS(\n    FILTER(\n        INFO.VIEW.MEASURES(),\n        [Table] &lt;&gt; \"Data Dictionary\" &amp;&amp; NOT([IsHidden])\n    ),\n    \"Type\", \"Measure\",\n    \"Name\", [Name],\n    \"Description\", [Description],\n    \"Location\", [Table],\n    \"Expression\", [Expression]\n)\n\nVAR _tables = SELECTCOLUMNS(\n    FILTER(\n        INFO.VIEW.TABLES(),\n        [Name] &lt;&gt; \"Data Dictionary\" &amp;&amp; [Name] &lt;&gt; \"Calculations\" &amp;&amp; NOT([IsHidden])\n    ),\n    \"Type\", \"Table\",\n    \"Name\", [Name],\n    \"Description\", [Description],\n    \"Location\", BLANK(),\n    \"Expression\", [Expression]\n)\n\nVAR _relationships = SELECTCOLUMNS(\n    INFO.VIEW.RELATIONSHIPS(),\n    \"Type\", \"Relationship\",\n    \"Name\", [Relationship],\n    \"Description\", BLANK(),\n    \"Location\", [FromTable],\n    \"Expression\", [Relationship]\n)\n\nVAR unified_table = UNION(_columns, _measures, _tables, _relationships)\n\nVAR add_number_char = ADDCOLUMNS(unified_table, \"DAX_NumbChar\", LEN([Expression]))\n\nVAR DAX_heaviness = ADDCOLUMNS(add_number_char, \"DAX Expression Heaviness\",\nSWITCH(TRUE(),\n[Type] = \"Relationship\",\"No Dax\",\n[DAX_NumbChar] &gt; 1000, \"4-Ultra Heavy\",\n[DAX_NumbChar] &gt; 500, \"3-Heavy\",\n[DAX_NumbChar] &gt; 150, \"2-Medium\",\n[DAX_NumbChar] &gt; 0, \"1-Light\",\n\"No DAX\"))\n\nRETURN\n\nDAX_heaviness\n</code></pre>"},{"location":"expertise/","title":"Expertise","text":""},{"location":"portfolio/","title":"Portfolio","text":"<ul> <li> <p> The Wainwrights</p> <p></p> <p>Created with Matplotlib</p> </li> <li> <p> CO2 Emissions per Capita</p> <p></p> <p>Created with Matplotlib</p> <p> Code</p> </li> </ul>"},{"location":"themes/","title":"Themes","text":""},{"location":"themes/#coming-soon","title":"Coming soon","text":""},{"location":"Deneb/","title":"Gallery","text":"<ul> <li> <p>Basic Histogram</p> <p></p> </li> <li> <p>Small Multiples - Day of the Week</p> <p></p> </li> <li> <p>Line Chart Brush + Zoom effect</p> <p></p> </li> <li> <p>KPI Card Area</p> <p></p> </li> <li> <p>Calendar Heatmap with Histogram</p> <p></p> </li> <li> <p>Calendar Heatmap with Histogram - Compact version</p> <p></p> </li> <li> <p>Hourly Heatmap with Histogram</p> <p></p> </li> <li> <p>Hourly Heatmap with Bar charts</p> <p></p> </li> <li> <p>Shaded line chart with custom tooltip</p> <p></p> </li> </ul>"},{"location":"Deneb/calendar_heatmap_histo/","title":"Calendar Heatmap with Histogram","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"4b89f062-9ef1-4d23-a864-ffa9da9aa41f\",\n      \"generated\": \"2026-01-19T11:22:46.224Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Calendar Heatmap &amp; Histogram\",\n      \"description\": \"Calendar Heatmap &amp; Histogram\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 0.5,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\",\\n    \\\"grid\\\":true\\n      },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"Date field from your date table\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Value\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"background\": \"white\",\n  \"params\": [\n    {\n      \"name\": \"scheme_name\",\n      \"value\": \"spectral\"\n    },\n    {\n      \"name\": \"corner_radius_value\",\n      \"value\": 0\n    }\n  ],\n  \"transform\": [\n    {\n      \"calculate\": \"year(datum['__0__'])\",\n      \"as\": \"Year\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b')\",\n      \"as\": \"Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%B')\",\n      \"as\": \"Month Name\"\n    },\n    {\n      \"calculate\": \"(day(datum['__0__']) + 6) % 7\",\n      \"as\": \"Weekday\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%a')\",\n      \"as\": \"Weekday Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%A')\",\n      \"as\": \"Weekday Name Long\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%m%W-%b')\",\n      \"as\": \"Month-Week\"\n    }\n  ],\n  \"vconcat\": [ // Vertical concatenation: top chart + bottom chart\n    {\n      // --- Top Chart: Heatmap (rect highlighted by brush) ---\n      \"mark\": {\n        \"type\": \"rect\",\n        \"cornerRadius\": {\n          \"expr\": \"corner_radius_value\"\n        },\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"detail\": {\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\"\n        },\n        \"column\": {\n          \"field\": \"Year\",\n          \"type\": \"ordinal\",\n          \"spacing\": 10,\n          \"title\": null,\n          \"header\": {\n            \"labelFontWeight\": \"bold\"\n          }\n        },\n        \"tooltip\": [\n          {\n            \"field\": \"__0__\",\n            \"type\": \"temporal\",\n            \"format\": \"dd/MM/yyyy\",\n            \"formatType\": \"pbiFormat\"\n          },\n          {\n            \"field\": \"Month Name\",\n            \"title\": \"Month\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"Weekday Name Long\",\n            \"title\": \"Weekday\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"__1__\",\n            \"type\": \"quantitative\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\"\n          }\n        ],\n        \"x\": {\n          \"field\": \"Weekday Name\",\n          \"type\": \"ordinal\",\n          \"sort\": {\n            \"field\": \"Weekday\"\n          },\n          \"scale\": {\n            \"padding\": 0.1\n          },\n          \"axis\": {\n            \"title\": null,\n            \"orient\": \"top\",\n            \"labelAngle\": 0,\n            \"labelExpr\": \"substring(datum.label, 0, 1)\"\n          } // No title on top chart\n        },\n        \"y\": {\n          \"field\": \"Month-Week\", \n          \"type\": \"ordinal\",\n          \"title\": null,\n          \"scale\": {\n            \"padding\": 0.2\n          },\n          \"axis\": {\n            \"labelOverlap\": \"greedy\",\n            \"labelFontWeight\": \"bold\",\n            \"labelSeparation\": 20,\n            \"labelExpr\": \"split(datum.label, '-')[1]\"\n          }\n        },\n        \"color\": {\n          \"aggregate\": \"sum\",\n          \"field\": \"__1__\",\n          \"legend\": null,\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"brush\",\n            \"value\": 1\n          },\n          \"value\": 0.1\n        }\n      },\n      \"width\": {\n        \"step\": 15\n      }, // Chart width\n      \"height\": 400 // Chart height\n    },\n    {\n      // --- Bottom Chart: brush/selector ---\n      \"view\": {\n        \"stroke\": null\n      },\n      \"mark\": {\n        \"type\": \"bar\",\n        \"binSpacing\": 0,\n        \"color\": {\n          \"expr\": \"pbiColor(0)\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"bin\": {\n            \"maxbins\": 50 // Adjust number of bins as needed here\n          },\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"__1__\",\n            \"grid\": false,\n            \"labelOverlap\": true,\n            \"labelSeparation\": 30\n          }\n        },\n        \"y\": {\n          \"aggregate\": \"count\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"Count\",\n            \"grid\": false,\n            \"orient\": \"right\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\",\n            \"tickCount\": 5 // Adjust the number of ticks as needed here\n          }\n        },\n        \"color\": {\n          \"bin\": {\n            \"maxbins\": 50\n          },\n          \"legend\": null,\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        }\n      },\n      \"params\": [\n        {\n          \"name\": \"brush\", // Name of the selection parameter\n          \"select\": {\n            \"type\": \"interval\",\n            \"mark\": {\n              \"fill\": \"grey\",\n              \"fillOpacity\": 0.1,\n              \"stroke\": \"grey\",\n              \"strokeOpacity\": 0.5\n            }, // Interval selection (drag over X-axis)\n            \"encodings\": [\n              \"x\"\n            ] // Only select along the X-axis\n          }\n        }\n      ],\n      \"width\": 500,\n      \"height\": 80 \n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/calendar_heatmap_histo_tiny/","title":"Calendar Heatmap with Histogram - Compact version","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"6872ca5d-b166-417d-bd08-2b4b799bf0f0\",\n      \"generated\": \"2026-01-19T11:25:33.858Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Calendar Heatmap &amp; Histogram - Tiny version\",\n      \"description\": \"Calendar Heatmap &amp; Histogram - Tiny version\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 0.5,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\",\\n    \\\"grid\\\":true\\n      },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"Date field from your date table\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Value\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"background\": \"white\",\n  \"params\": [\n    {\n      \"name\": \"scheme_name\",\n      \"value\": \"spectral\"\n    },\n    {\n      \"name\": \"corner_radius_value\",\n      \"value\": 5\n    }\n  ],\n  \"transform\": [\n    {\n      \"calculate\": \"year(datum['__0__'])\",\n      \"as\": \"Year\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b')\",\n      \"as\": \"Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%B')\",\n      \"as\": \"Month Name\"\n    },\n    {\n      \"calculate\": \"(day(datum['__0__']) + 6) % 7\",\n      \"as\": \"Weekday\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%a')\",\n      \"as\": \"Weekday Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%A')\",\n      \"as\": \"Weekday Name Long\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%m%W-%b')\",\n      \"as\": \"Month-Week\"\n    }\n  ],\n  \"vconcat\": [ // Vertical concatenation: top chart + bottom chart\n    {\n      // --- Top Chart: Heatmap (rect highlighted by brush) ---\n      \"mark\": {\n        \"type\": \"rect\",\n        \"cornerRadius\": {\n          \"expr\": \"corner_radius_value\"\n        },\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"detail\": {\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\"\n        },\n        \"column\": {\n          \"field\": \"Year\",\n          \"type\": \"ordinal\",\n          \"spacing\": 10,\n          \"title\": null,\n          \"header\": {\n            \"labelFontWeight\": \"bold\"\n          }\n        },\n        \"tooltip\": [\n          {\n            \"field\": \"__0__\",\n            \"type\": \"temporal\",\n            \"format\": \"dd/MM/yyyy\",\n            \"formatType\": \"pbiFormat\"\n          },\n          {\n            \"field\": \"Month Name\",\n            \"title\": \"Month\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"Weekday Name Long\",\n            \"title\": \"Weekday\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"__1__\",\n            \"type\": \"quantitative\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\"\n          }\n        ],\n        \"x\": {\n          \"field\": \"Weekday Name\",\n          \"type\": \"ordinal\",\n          \"sort\": {\n            \"field\": \"Weekday\"\n          },\n          \"scale\": {\n            \"padding\": 0.1\n          },\n          \"axis\": {\n            \"title\": null,\n            \"labels\": false,\n            \"orient\": \"top\"\n          } // No title on top chart\n        },\n        \"y\": {\n          \"field\": \"Month-Week\", // Y-axis uses Demand_kW\n          \"type\": \"ordinal\",\n          \"title\": null,\n          \"scale\": {\n            \"padding\": 0.2\n          },\n          \"axis\": {\n            \"labelOverlap\": \"greedy\",\n            \"labelSeparation\": 20,\n            \"labelFontWeight\": \"bold\",\n            \"labelExpr\": \"split(datum.label, '-')[1]\"\n          }\n        },\n        \"color\": {\n          \"aggregate\": \"sum\",\n          \"field\": \"__1__\",\n          \"legend\": null,\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"brush\",\n            \"value\": 1\n          },\n          \"value\": 0.1\n        }\n      },\n      \"width\": {\n        \"step\": 6\n      }, // Chart width\n      \"height\": {\n        \"step\": 6\n      } // Chart height\n    },\n    {\n      // --- Bottom Chart: brush/selector ---\n      \"view\": {\n        \"stroke\": null\n      },\n      \"mark\": {\n        \"type\": \"bar\",\n        \"binSpacing\": 0,\n        \"color\": {\n          \"expr\": \"pbiColor(0)\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"bin\": {\n            \"maxbins\": 50 // Adjust number of bins as needed here\n          },\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"__1__\",\n            \"grid\": false,\n            \"labelOverlap\": true,\n            \"labelSeparation\": 10\n          }\n        },\n        \"y\": {\n          \"aggregate\": \"count\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"Count\",\n            \"grid\": false,\n            \"orient\": \"right\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\",\n            \"tickCount\": 5 // Adjust the number of ticks as needed here\n          }\n        },\n        \"color\": {\n          \"bin\": {\n            \"maxbins\": 50\n          },\n          \"legend\": null,\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        }\n      },\n      \"params\": [\n        {\n          \"name\": \"brush\", // Name of the selection parameter\n          \"select\": {\n            \"type\": \"interval\",\n            \"mark\": {\n              \"fill\": \"grey\",\n              \"fillOpacity\": 0.1,\n              \"stroke\": \"grey\",\n              \"strokeOpacity\": 0.5\n            }, // Interval selection (drag over X-axis)\n            \"encodings\": [\n              \"x\"\n            ] // Only select along the X-axis\n          }\n        }\n      ],\n      \"width\": 200,\n      \"height\": 75 // Small overview chart\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/histogram/","title":"Basic Histogram","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"ab4e0b5d-1e25-42d4-92c1-e36427ba9f67\",\n      \"generated\": \"2025-11-06T11:00:05.500Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Basic_Histogram\",\n      \"description\": \"Basic Histogram with Tooltip.\\nAdjust the number of bins in the specification.\\nNB: You can drag and drop more fields to aggregate at the required level (e.g. Date and Time fields)\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 3,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\"\\n  },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": true,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Metric\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"mark\": {\n    \"type\": \"bar\",\n    \"binSpacing\": 1,\n    \"tooltip\": true,\n    \"color\": {\n      \"expr\": \"pbiColor(0)\"\n    }\n  },\n  \"encoding\": {\n    \"x\": {\n      \"bin\": {\n        \"maxbins\": 20 // Adjust number of bins as needed here\n      },\n      \"field\": \"__0__\",\n      \"type\": \"quantitative\",\n      \"axis\": {\n        \"title\": \"__0__\"\n      }\n    },\n    \"y\": {\n      \"aggregate\": \"count\",\n      \"type\": \"quantitative\",\n      \"axis\": {\n        \"title\": \"Count\",\n        \"format\": \"#,#0\",\n        \"formatType\": \"pbiFormat\",\n        \"tickCount\": 8 // Adjust the number of ticks as needed here\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"Deneb/hourly_heatmap_bars/","title":"Hourly Heatmap with Bar charts","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"41f9ae88-4697-4344-95be-36bab3d144b9\",\n      \"generated\": \"2026-02-05T12:06:30.135Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"deneb_hourly_heatmap_bars\",\n      \"description\": \"Hourly Heatmap with Bar Charts\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 0.5,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\",\\n    \\\"grid\\\":true\\n      },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  },\\n  \\\"concat\\\":{\\n    \\\"spacing\\\":5\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Hour\",\n        \"description\": \"\",\n        \"kind\": \"column\",\n        \"type\": \"numeric\"\n      },\n      {\n        \"key\": \"__2__\",\n        \"name\": \"Value\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"background\": \"white\",\n  \"params\": [\n    {\n      \"name\": \"scheme_name\",\n      \"value\": \"spectral\"\n    },\n    {\n      \"name\": \"corner_radius_value\",\n      \"value\": 3\n    },\n    {\n      \"name\": \"select_hour\",\n      \"select\": {\n        \"type\": \"point\",\n        \"fields\": [\n          \"__1__\"\n        ]\n      }\n    },\n    {\n      \"name\": \"select_day\",\n      \"select\": {\n        \"type\": \"point\",\n        \"fields\": [\n          \"Day of Month\"\n        ]\n      }\n    }\n  ],\n  \"transform\": [\n    {\n      \"calculate\": \"year(datum['__0__'])\",\n      \"as\": \"Year\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b')\",\n      \"as\": \"Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%B')\",\n      \"as\": \"Month Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%e')\",\n      \"as\": \"Day of Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%a')\",\n      \"as\": \"Weekday Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%A')\",\n      \"as\": \"Weekday Name Long\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b %y')\",\n      \"as\": \"Month Formatted\"\n    }\n  ],\n  \"vconcat\": [\n    {\n      \"height\": 50,\n      \"mark\": {\n        \"type\": \"bar\",\n        \"color\": \"slategray\",\n        \"cornerRadiusEnd\": {\n          \"expr\": \"corner_radius_value\"\n        },\n        \"cursor\": \"pointer\"\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"__1__\",\n          \"type\": \"ordinal\",\n          \"axis\": {\n            \"labels\": false,\n            \"title\": null\n          }\n        },\n        \"y\": {\n          \"field\": \"__2__\",\n          \"aggregate\": \"sum\",\n          \"axis\": {\n            \"title\": \"__1__\",\n            \"titleAngle\": 0,\n            \"titleAnchor\": \"start\",\n            \"titleAlign\": \"right\",\n            \"titleX\": -10,\n            \"labels\": false\n          }\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"select_hour\",\n            \"value\": 1\n          },\n          \"value\": 0.3\n        },\n        \"tooltip\": [\n          {\n            \"field\": \"__1__\",\n            \"type\": \"quantitative\"\n          },\n          {\n            \"field\": \"__2__\",\n            \"aggregate\": \"sum\",\n            \"title\": \"__2__\",\n            \"type\": \"quantitative\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\"\n          }\n        ]\n      },\n      \"params\": [\n        {\n          \"name\": \"select_hour\",\n          \"select\": {\n            \"type\": \"point\",\n            \"fields\": [\n              \"__1__\"\n            ]\n          }\n        }\n      ]\n    },\n    {\n      \"hconcat\": [\n        {\n          \"mark\": {\n            \"type\": \"rect\",\n            \"cornerRadius\": {\n              \"expr\": \"corner_radius_value\"\n            },\n            \"tooltip\": true\n          },\n          \"encoding\": {\n            \"detail\": {\n              \"field\": \"__2__\",\n              \"type\": \"quantitative\"\n            },\n            \"row\": {\n              \"field\": \"Month Formatted\",\n              \"title\": null,\n              \"sort\": {\n                \"field\": \"__0__\"\n              },\n              \"header\": {\n                \"labelAngle\": 0,\n                \"labelAlign\": \"left\",\n                \"labelAnchor\": \"end\",\n                \"labelFontWeight\": \"bold\"\n              }\n            },\n            \"tooltip\": [\n              {\n                \"field\": \"__0__\",\n                \"type\": \"temporal\",\n                \"format\": \"dd/MM/yyyy\",\n                \"formatType\": \"pbiFormat\"\n              },\n              {\n                \"field\": \"__1__\",\n                \"type\": \"quantitative\"\n              },\n              {\n                \"field\": \"Month Name\",\n                \"title\": \"Month\",\n                \"type\": \"nominal\"\n              },\n              {\n                \"field\": \"Weekday Name Long\",\n                \"title\": \"Weekday\",\n                \"type\": \"nominal\"\n              },\n              {\n                \"field\": \"__2__\",\n                \"type\": \"quantitative\",\n                \"format\": \"#,#\",\n                \"formatType\": \"pbiFormat\"\n              }\n            ],\n            \"x\": {\n              \"field\": \"__1__\",\n              \"title\": \"__1__\",\n              \"type\": \"ordinal\",\n              \"sort\": {\n                \"field\": \"__1__\"\n              },\n              \"scale\": {\n                \"padding\": 0.1\n              },\n              \"axis\": {\n                \"orient\": \"top\",\n                \"labelAngle\": 0,\n                \"titleAnchor\": \"start\",\n                \"titlePadding\": 10,\n                \"title\": null\n              }\n            },\n            \"y\": {\n              \"field\": \"Day of Month\",\n              \"type\": \"nominal\",\n              \"title\": null,\n              \"scale\": {\n                \"padding\": 0.2\n              },\n              \"axis\": {\n                \"orient\": \"left\",\n                \"labelOverlap\": true,\n                \"labelSeparation\": 20,\n                \"format\": \"d\",\n                \"formatType\": \"pbiFormat\"\n              }\n            },\n            \"color\": {\n              \"aggregate\": \"sum\",\n              \"field\": \"__2__\",\n              \"type\": \"quantitative\",\n              \"legend\": {\n                \"title\": \"__2__\",\n                \"type\": \"gradient\",\n                \"gradientLength\": 400,\n                \"direction\": \"horizontal\",\n                \"orient\": \"top\",\n                \"labelOverlap\": true,\n                \"labelSeparation\": 5,\n                \"padding\": 10,\n                \"cornerRadius\": 5\n              },\n              \"scale\": {\n                \"scheme\": {\n                  \"expr\": \"scheme_name\"\n                },\n                \"reverse\": true\n              }\n            },\n            \"opacity\": {\n              \"condition\": [\n                {\n                  \"param\": \"select_hour\",\n                  \"value\": 1\n                },\n                {\n                  \"param\": \"select_day\",\n                  \"value\": 1\n                }\n              ],\n              \"value\": 0.2\n            }\n          },\n          \"width\": {\n            \"step\": 20\n          },\n          \"height\": {\n            \"step\": 10\n          }\n        },\n        {\n          \"width\": 50,\n          \"height\": {\n            \"step\": 10\n          },\n          \"mark\": {\n            \"type\": \"bar\",\n            \"color\": \"slategray\",\n            \"cornerRadiusEnd\": {\n              \"expr\": \"corner_radius_value\"\n            },\n            \"cursor\": \"pointer\"\n          },\n          \"encoding\": {\n            \"row\": {\n              \"field\": \"Month Formatted\",\n              \"title\": null,\n              \"sort\": {\n                \"field\": \"__0__\"\n              },\n              \"header\": {\n                \"labels\": false\n              }\n            },\n            \"tooltip\": [\n              {\n                \"field\": \"__0__\",\n                \"type\": \"temporal\",\n                \"format\": \"dd/MM/yyyy\",\n                \"formatType\": \"pbiFormat\"\n              },\n              {\n                \"field\": \"Month Name\",\n                \"title\": \"Month\",\n                \"type\": \"nominal\"\n              },\n              {\n                \"field\": \"Weekday Name Long\",\n                \"title\": \"Weekday\",\n                \"type\": \"nominal\"\n              },\n              {\n                \"field\": \"__2__\",\n                \"aggregate\": \"sum\",\n                \"title\": \"__2__\",\n                \"type\": \"quantitative\",\n                \"format\": \"#,#\",\n                \"formatType\": \"pbiFormat\"\n              }\n            ],\n            \"x\": {\n              \"field\": \"__2__\",\n              \"aggregate\": \"sum\",\n              \"title\": null,\n              \"axis\": {\n                \"orient\": \"top\",\n                \"labels\": false\n              }\n            },\n            \"y\": {\n              \"field\": \"Day of Month\",\n              \"type\": \"nominal\",\n              \"title\": null,\n              \"scale\": {\n                \"padding\": 0.2\n              },\n              \"axis\": null\n            },\n            \"opacity\": {\n              \"condition\": {\n                \"param\": \"select_day\",\n                \"value\": 1\n              },\n              \"value\": 0.3\n            }\n          },\n          \"params\": [\n            {\n              \"name\": \"select_day\",\n              \"select\": {\n                \"type\": \"point\",\n                \"fields\": [\n                  \"Day of Month\"\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/hourly_heatmap_histo/","title":"Hourly Heatmap with Histogram","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"00fe0d19-77d5-49ac-989e-df0637128747\",\n      \"generated\": \"2026-01-26T15:24:23.492Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Hourly Heatmap &amp; Histogram\",\n      \"description\": \"Hourly Heatmap &amp; Histogram\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 0.5,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\",\\n    \\\"grid\\\":true\\n      },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"Date Field\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Hour\",\n        \"description\": \"Hour Field\",\n        \"kind\": \"column\",\n        \"type\": \"numeric\"\n      },\n      {\n        \"key\": \"__2__\",\n        \"name\": \"Value\",\n        \"description\": \"Metric\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"background\": \"white\",\n  \"params\": [\n    {\n      \"name\": \"scheme_name\",\n      \"value\": \"spectral\"\n    },\n    {\n      \"name\": \"corner_radius_value\",\n      \"value\": 3\n    }\n  ],\n  \"transform\": [\n    {\n      \"calculate\": \"year(datum['__0__'])\",\n      \"as\": \"Year\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b')\",\n      \"as\": \"Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%B')\",\n      \"as\": \"Month Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%e')\",\n      \"as\": \"Day of Month\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%a')\",\n      \"as\": \"Weekday Name\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%A')\",\n      \"as\": \"Weekday Name Long\"\n    },\n    {\n      \"calculate\": \"timeFormat(datum['__0__'], '%b %y')\",\n      \"as\": \"Month Formatted\"\n    }\n  ],\n  \"vconcat\": [ // Vertical concatenation: top chart + bottom chart\n    {\n      // --- Bottom Chart: brush/selector ---\n      \"view\": {\n        \"stroke\": null\n      },\n      \"title\": {\n        \"text\": \"Distribution\",\n        \"anchor\": \"middle\",\n        \"subtitlePadding\": 10,\n        \"subtitle\": \"Use the brush to highlight hours\",\n        \"subtitleColor\": \"gray\"\n      },\n      \"mark\": {\n        \"type\": \"bar\",\n        \"binSpacing\": 0\n      },\n      \"encoding\": {\n        \"x\": {\n          \"bin\": {\n            \"maxbins\": 50 // Adjust number of bins as needed here\n          },\n          \"field\": \"__2__\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"__2__\",\n            \"titleAnchor\": \"end\",\n            \"grid\": false,\n            \"labelOverlap\": true,\n            \"labelSeparation\": 30\n          }\n        },\n        \"y\": {\n          \"aggregate\": \"count\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": \"Count\",\n            \"titleAnchor\": \"end\",\n            \"titleAngle\": 0,\n            \"titlePadding\": -15,\n            \"grid\": false,\n            \"orient\": \"left\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\",\n            \"tickCount\": 5 // Adjust the number of ticks as needed here\n          }\n        },\n        \"color\": {\n          \"bin\": {\n            \"maxbins\": 50\n          },\n          \"legend\": null,\n          \"field\": \"__2__\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        }\n      },\n      \"params\": [\n        {\n          \"name\": \"brush\", // Name of the selection parameter\n          \"select\": {\n            \"type\": \"interval\",\n            \"mark\": {\n              \"fill\": \"grey\",\n              \"fillOpacity\": 0.1,\n              \"stroke\": \"grey\",\n              \"strokeOpacity\": 0.5\n            }, // Interval selection (drag over X-axis)\n            \"encodings\": [\n              \"x\"\n            ] // Only select along the X-axis\n          }\n        }\n      ],\n      \"width\": 420,\n      \"height\": 80 // Small overview chart\n    },\n    {\n      \"title\": {\n        \"text\": \"Heatmap\",\n        \"anchor\": \"middle\",\n        \"subtitle\": \"Hours show the start of each hour period\",\n        \"subtitlePadding\": 10,\n        \"subtitleColor\": \"gray\"\n      },\n      // --- Top Chart: Heatmap (rect highlighted by brush) ---\n      \"mark\": {\n        \"type\": \"rect\",\n        \"cornerRadius\": {\n          \"expr\": \"corner_radius_value\"\n        },\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"detail\": {\n          \"field\": \"__2__\",\n          \"type\": \"quantitative\"\n        },\n        \"row\": {\n          \"field\": \"Month Formatted\",\n          \"title\": null,\n          \"sort\": {\n            \"field\": \"__0__\"\n          },\n          \"header\": {\n            \"labelAngle\": 0,\n            \"labelAlign\": \"left\",\n            \"labelAnchor\": \"end\",\n            \"labelFontWeight\": \"bold\"\n          }\n        },\n        \"tooltip\": [\n          {\n            \"field\": \"__0__\",\n            \"type\": \"temporal\",\n            \"format\": \"dd/MM/yyyy\",\n            \"formatType\": \"pbiFormat\"\n          },\n          {\n            \"field\": \"__1__\",\n            \"type\": \"temporal\",\n            \"format\": \"#\",\n            \"formatType\": \"pbiFormat\"\n          },\n          {\n            \"field\": \"Month Name\",\n            \"title\": \"Month\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"Weekday Name Long\",\n            \"title\": \"Weekday\",\n            \"type\": \"nominal\"\n          },\n          {\n            \"field\": \"__2__\",\n            \"type\": \"quantitative\",\n            \"format\": \"#,#\",\n            \"formatType\": \"pbiFormat\"\n          }\n        ],\n        \"x\": {\n          \"field\": \"__1__\",\n          \"title\": \"__1__\",\n          \"type\": \"ordinal\",\n          \"sort\": {\n            \"field\": \"__1__\"\n          },\n          \"scale\": {\n            \"padding\": 0.1\n          },\n          \"axis\": {\n            \"orient\": \"top\",\n            \"labelAngle\": 0,\n            \"titleAnchor\": \"start\",\n            \"titlePadding\": 10\n          } // No title on top chart\n        },\n        \"y\": {\n          \"field\": \"Day of Month\", // Y-axis uses Demand_kW\n          \"type\": \"nominal\",\n          \"title\": null,\n          \"scale\": {\n            \"padding\": 0.2\n          },\n          \"axis\": {\n            \"labelOverlap\": \"greedy\",\n            \"labelSeparation\": 20,\n            \"format\": \"d\",\n            \"formatType\": \"pbiFormat\"\n          }\n        },\n        \"color\": {\n          \"aggregate\": \"sum\",\n          \"field\": \"__2__\",\n          \"legend\": null,\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"scheme\": {\n              \"expr\": \"scheme_name\"\n            },\n            \"reverse\": true\n          }\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"brush\",\n            \"value\": 1\n          },\n          \"value\": 0.1\n        }\n      },\n      \"width\": {\n        \"step\": 20\n      }, // Chart width\n      \"height\": {\n        \"step\": 10\n      } // Chart height\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/kpi_card_area/","title":"KPI Card - Area","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"6b921e85-967d-4003-8951-545203344a00\",\n      \"generated\": \"2026-01-12T14:55:57.897Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"deneb_kpi_card_area_gradient\",\n      \"description\": \"KPI Card with area chart (gradient)\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 3,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\"\\n  },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#CFC493\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Year-Month\",\n        \"description\": \"Ideally, field with the standard format \\\"YYYY-MM\\\" or first date of the month.\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Value\",\n        \"description\": \"Value\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"spacing\": 0,\n  \"bounds\": \"flush\",\n  \"vconcat\": [\n    {\n      \"width\": 250,\n      \"height\": 10,\n      \"layer\": [\n        {\n          \"transform\": [\n            {\n              \"aggregate\": [\n                {\n                  \"op\": \"sum\",\n                  \"field\": \"__1__\",\n                  \"as\": \"Total\"\n                }\n              ]\n            }\n          ],\n          \"mark\": {\n            \"type\": \"text\",\n            \"fontSize\": 28,\n            \"fontWeight\": \"bold\",\n            \"color\": \"#000000\",\n            \"dy\": -30\n          },\n          \"encoding\": {\n            \"text\": {\n              \"field\": \"Total\",\n              \"type\": \"quantitative\",\n              \"format\": \",.0f\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"width\": 250,\n      \"height\": 60,\n      \"transform\": [\n        {\n          \"aggregate\": [\n            {\n              \"op\": \"sum\",\n              \"field\": \"__1__\",\n              \"as\": \"Total\"\n            }\n          ],\n          \"groupby\": [\n            \"__0__\"\n          ]\n        }\n      ],\n      \"layer\": [\n        {\n          \"mark\": {\n            \"type\": \"area\",\n            \"interpolate\": \"cardinal\",\n            \"tension\": 0.5,\n            \"tooltip\": true,\n            \"line\": {\n              \"color\": \"orangered\"\n            },\n            \"color\": {\n              \"x1\": 1,\n              \"y1\": 1,\n              \"x2\": 1,\n              \"y2\": 0,\n              \"gradient\": \"linear\",\n              \"stops\": [\n                {\n                  \"offset\": 0,\n                  \"color\": \"white\"\n                },\n                {\n                  \"offset\": 1,\n                  \"color\": \"orangered\"\n                }\n              ]\n            }\n          },\n          \"encoding\": {\n            \"x\": {\n              \"field\": \"__0__\",\n              \"type\": \"nominal\",\n              \"axis\": {\n                \"labelAngle\": 0,\n                \"labelFontSize\": 9,\n                \"title\": null,\n                \"format\": \"MMM yy\",\n                \"formatType\": \"pbiFormat\",\n                \"labelOverlap\": true\n              },\n              \"sort\": {\n                \"field\": \"__0__\",\n                \"order\": \"ascending\"\n              }\n            },\n            \"y\": {\n              \"field\": \"Total\",\n              \"type\": \"quantitative\",\n              \"axis\": null\n            },\n            \"tooltip\": [\n              {\n                \"field\": \"__0__\",\n                \"format\": \"MMM yy\",\n                \"formatType\": \"pbiFormat\",\n                \"type\": \"nominal\",\n                \"title\": \"__0__\"\n              },\n              {\n                \"field\": \"Total\",\n                \"type\": \"quantitative\",\n                \"title\": \"__1__\",\n                \"format\": \",.0f\"\n              }\n            ]\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/linechartbrush/","title":"Line Chart Brush + Zoom effect","text":"<pre><code>{\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"c5f8ca48-0b47-4c26-bf63-6df13e6b4684\",\n      \"generated\": \"2025-10-20T09:01:11.712Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Line Chart Brush + Zoom\",\n      \"description\": \"Two stacked line charts. \\nUse the brush on the bottom chart to zoom on the top chart.\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.1.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.1.0\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 0.5,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\",\\n    \\\"grid\\\":true\\n      },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date/Time\",\n        \"description\": \"Any Date or Date/Time field\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Value\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"description\": \"Line chart with brush + zoomed detail\",\n  \"data\": {\n    \"name\": \"dataset\" // Use the dataset already loaded in Power BI\n  },\n  \"vconcat\": [ // Vertical concatenation: top chart + bottom chart\n    {\n      // --- Top Chart: zoomed view (filtered by brush) ---\n      \"mark\": {\n        \"type\": \"line\", // Line chart\n        \"interpolate\": \"monotone\", // Smooth line\n        \"color\": {\n          \"expr\": \"pbiColor(0)\"\n        },\n        \"tooltip\": true,\n        \"strokeWidth\": 1.5 // adjust as needed\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"__0__\", // X-axis uses your timestamp field\n          \"type\": \"temporal\", // Temporal axis (dates/times)\n          \"axis\": {\n            \"title\": null\n          } // No title on top chart\n        },\n        \"y\": {\n          \"field\": \"__1__\", // Y-axis uses Demand_kW\n          \"type\": \"quantitative\", // Numeric scale\n          \"axis\": {\n            \"tickCount\": 10, // Number of ticks\n            \"grid\": true, // Show gridlines\n            \"gridColor\": \"lightgrey\", // Gridline color\n            \"gridDash\": [],\n            \"gridOpacity\": 0.3,\n            \"title\": \"__1__\" // Y-axis title\n          }\n        }\n      },\n      \"transform\": [\n        {\n          \"filter\": {\n            \"param\": \"brush\"\n          }\n          // Only show data in the interval selected by the brush\n        }\n      ],\n      \"width\": 800, // Chart width\n      \"height\": 350 // Chart height\n    },\n    {\n      // --- Bottom Chart: brush/selector ---\n      \"mark\": {\n        \"type\": \"line\", // Line chart (overview)\n        \"interpolate\": \"monotone\",\n        \"color\": {\n          \"expr\": \"pbiColor(0)\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"__0__\",\n          \"type\": \"temporal\",\n          \"axis\": {\n            \"title\": \"__0__\"\n          } // Show X-axis title\n        },\n        \"y\": {\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"axis\": {\n            \"title\": null, // Hide Y-axis title in brush chart\n            \"labels\": false, // Hide labels\n            \"ticks\": false, // Hide ticks\n            \"grid\": false // Hide gridlines\n          }\n        }\n      },\n      \"params\": [\n        {\n          \"name\": \"brush\", // Name of the selection parameter\n          \"select\": {\n            \"type\": \"interval\",\n            \"mark\": {\n              \"fill\": \"grey\",\n              \"fillOpacity\": 0.1,\n              \"stroke\": \"grey\",\n              \"strokeOpacity\": 0.5\n            }, // Interval selection (drag over X-axis)\n            \"encodings\": [\n              \"x\"\n            ] // Only select along the X-axis\n          }\n        }\n      ],\n      \"width\": 800,\n      \"height\": 80 // Small overview chart\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/shaded_line_chart_tooltip/","title":"Shaded line chart with custom tooltip","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"354e6898-a4d9-48b8-86df-4dda6c58f8f0\",\n      \"generated\": \"2026-01-30T15:46:30.854Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"area_chart_custom_tooltip_1\",\n      \"description\": \"[No Description Provided]\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\r\\n  \\\"view\\\": {\\r\\n    \\\"stroke\\\": \\\"transparent\\\"\\r\\n  },\\r\\n  \\\"font\\\": \\\"Segoe UI\\\",\\r\\n  \\\"arc\\\": {},\\r\\n  \\\"area\\\": {\\r\\n    \\\"line\\\": true,\\r\\n    \\\"opacity\\\": 0.6\\r\\n  },\\r\\n  \\\"bar\\\": {},\\r\\n  \\\"line\\\": {\\r\\n    \\\"strokeWidth\\\": 0.5,\\r\\n    \\\"strokeCap\\\": \\\"round\\\",\\r\\n    \\\"strokeJoin\\\": \\\"round\\\",\\r\\n    \\\"grid\\\":true\\r\\n      },\\r\\n  \\\"point\\\": {\\r\\n    \\\"filled\\\": true,\\r\\n    \\\"size\\\": 75\\r\\n  },\\r\\n  \\\"rect\\\": {},\\r\\n  \\\"text\\\": {\\r\\n    \\\"font\\\": \\\"Segoe UI\\\",\\r\\n    \\\"fontSize\\\": 12,\\r\\n    \\\"fill\\\": \\\"#716E76\\\"\\r\\n  },\\r\\n  \\\"axis\\\": {\\r\\n    \\\"ticks\\\": false,\\r\\n    \\\"grid\\\": false,\\r\\n    \\\"domain\\\": false,\\r\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\r\\n    \\\"labelFontSize\\\": 12,\\r\\n    \\\"titleFont\\\": \\\"din\\\",\\r\\n    \\\"titleColor\\\": \\\"#192229\\\",\\r\\n    \\\"titleFontSize\\\": 16,\\r\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\r\\n  },\\r\\n  \\\"axisQuantitative\\\": {\\r\\n    \\\"tickCount\\\": 3,\\r\\n    \\\"grid\\\": true,\\r\\n    \\\"gridColor\\\": \\\"#EDEDED\\\",\\r\\n    \\\"labelFlush\\\": false\\r\\n  },\\r\\n  \\\"axisX\\\": {\\r\\n    \\\"labelPadding\\\": 5\\r\\n  },\\r\\n  \\\"axisY\\\": {\\r\\n    \\\"labelPadding\\\": 10\\r\\n  },\\r\\n  \\\"header\\\": {\\r\\n    \\\"titleFont\\\": \\\"din\\\",\\r\\n    \\\"titleFontSize\\\": 16,\\r\\n    \\\"titleColor\\\": \\\"#192229\\\",\\r\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\r\\n    \\\"labelFontSize\\\": 13.333333333333332,\\r\\n    \\\"labelColor\\\": \\\"#716E76\\\"\\r\\n  },\\r\\n  \\\"legend\\\": {\\r\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\r\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\r\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\r\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\r\\n    \\\"labelFontSize\\\": 13.333333333333332,\\r\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\r\\n    \\\"symbolType\\\": \\\"circle\\\",\\r\\n    \\\"symbolSize\\\": 75\\r\\n  }\\r\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"Formatting of the date is set up to Month-Year by default. Please change the formatting of the X-axis labels + custom tooltip label if using another date interval.\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Metric\",\n        \"description\": \"\",\n        \"kind\": \"measure\",\n        \"type\": \"numeric\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  \"encoding\": {\n    \"y\": {\n      \"field\": \"__1__\",\n      \"type\": \"quantitative\",\n      \"axis\": {\n        \"labelOverlap\": \"greedy\",\n        \"tickCount\": 6,\n        \"grid\": true,\n        \"titleAngle\": 0,\n        \"titleAlign\": \"left\",\n        \"titleAnchor\": \"end\",\n        \"titleY\": -10\n      }\n    },\n    \"x\": {\n      \"field\": \"__0__\",\n      \"type\": \"temporal\",\n      \"axis\": {\n        \"format\": \"MMM yy\",\n        \"formatType\": \"pbiFormat\",\n        \"labelSeparation\": 50,\n        \"labelOverlap\": true\n      }\n    }\n  },\n  \"layer\": [\n    {\n      \"mark\": {\n        \"type\": \"area\",\n        \"interpolate\": \"cardinal\",\n        \"tension\": 0.5,\n        \"line\": {\n          \"color\": {\n            \"expr\": \"pbiColor(0)\"\n          },\n          \"opacity\": 0.8,\n          \"strokeWidth\": 3\n        },\n        \"fillOpacity\": 1,\n        \"color\": {\n          \"x1\": 1,\n          \"y1\": 1,\n          \"x2\": 1,\n          \"y2\": 0,\n          \"gradient\": \"linear\",\n          \"stops\": [\n            {\n              \"offset\": 0,\n              \"color\": \"white\"\n            },\n            {\n              \"offset\": 1,\n              \"color\": \"lightgray\"\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"params\": [\n        {\n          \"name\": \"hover\",\n          \"select\": {\n            \"type\": \"point\",\n            \"nearest\": true,\n            \"on\": \"pointerover\",\n            \"clear\": \"pointerout\"\n          }\n        }\n      ],\n      \"mark\": {\n        \"type\": \"bar\",\n        \"width\": 1,\n        \"color\": \"black\"\n      },\n      \"encoding\": {\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"hover\",\n            \"empty\": false,\n            \"value\": 1\n          },\n          \"value\": 0\n        }\n      }\n    },\n    {\n      \"mark\": {\n        \"type\": \"point\",\n        \"shape\": \"circle\",\n        \"color\": {\n          \"expr\": \"pbiColor(0)\"\n        },\n        \"tooltip\": false\n      },\n      \"encoding\": {\n        \"opacity\": {\n          \"condition\": {\n            \"test\": {\n              \"param\": \"hover\",\n              \"empty\": false\n            },\n            \"value\": 1\n          },\n          \"value\": 0\n        },\n        \"size\": {\n          \"condition\": {\n            \"test\": {\n              \"param\": \"hover\",\n              \"empty\": false\n            },\n            \"value\": 200\n          },\n          \"value\": 400\n        }\n      }\n    },\n    {\n      \"mark\": {\n        \"type\": \"rect\",\n        \"color\": \"white\",\n        \"width\": 120,\n        \"height\": 50,\n        \"yOffset\": -42,\n        \"cornerRadius\": 10\n      },\n      \"encoding\": {\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"hover\",\n            \"empty\": false,\n            \"value\": 0.6\n          },\n          \"value\": 0\n        }\n      }\n    },\n    {\n      \"mark\": {\n        \"type\": \"text\",\n        \"stroke\": \"black\",\n        \"strokeWidth\": 0.5,\n        \"color\": \"black\",\n        \"dy\": -30,\n        \"fontWeight\": \"bold\",\n        \"size\": 20\n      },\n      \"encoding\": {\n        \"text\": {\n          \"field\": \"__1__\",\n          \"type\": \"quantitative\",\n          \"format\": \"#,#\",\n          \"formatType\": \"pbiFormat\"\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"hover\",\n            \"empty\": false,\n            \"value\": 1\n          },\n          \"value\": 0\n        }\n      }\n    },\n    {\n      \"mark\": {\n        \"type\": \"text\",\n        \"color\": \"black\",\n        \"dy\": -55,\n        \"align\": \"center\",\n        \"fontWeight\": \"normal\",\n        \"size\": 15\n      },\n      \"encoding\": {\n        \"text\": {\n          \"field\": \"__0__\",\n          \"type\": \"temporal\",\n          \"format\": \"MMM yy\",\n          \"formatType\": \"pbiFormat\"\n        },\n        \"opacity\": {\n          \"condition\": {\n            \"param\": \"hover\",\n            \"empty\": false,\n            \"value\": 1\n          },\n          \"value\": 0\n        }\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"Deneb/smallmultipleday/","title":"Small Multiples - Day of the Week","text":"<pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"usermeta\": {\n    \"information\": {\n      \"uuid\": \"d9542bb5-66a3-4c97-ba19-26cb006432e3\",\n      \"generated\": \"2025-10-24T11:43:21.639Z\",\n      \"previewImageBase64PNG\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\",\n      \"name\": \"Faceted line chart per Day - Value by Time\",\n      \"description\": \"[No Description Provided]\",\n      \"author\": \"Clement Villalard\"\n    },\n    \"deneb\": {\n      \"build\": \"1.8.2.0\",\n      \"metaVersion\": 1,\n      \"provider\": \"vegaLite\",\n      \"providerVersion\": \"6.4.1\"\n    },\n    \"interactivity\": {\n      \"tooltip\": true,\n      \"contextMenu\": true,\n      \"selection\": false,\n      \"selectionMode\": \"simple\",\n      \"highlight\": false,\n      \"dataPointLimit\": 50\n    },\n    \"config\": \"{\\n  \\\"view\\\": {\\n    \\\"stroke\\\": \\\"transparent\\\"\\n  },\\n  \\\"font\\\": \\\"Segoe UI\\\",\\n  \\\"arc\\\": {},\\n  \\\"area\\\": {\\n    \\\"line\\\": true,\\n    \\\"opacity\\\": 0.6\\n  },\\n  \\\"bar\\\": {},\\n  \\\"line\\\": {\\n    \\\"strokeWidth\\\": 3,\\n    \\\"strokeCap\\\": \\\"round\\\",\\n    \\\"strokeJoin\\\": \\\"round\\\"\\n  },\\n  \\\"point\\\": {\\n    \\\"filled\\\": true,\\n    \\\"size\\\": 75\\n  },\\n  \\\"rect\\\": {},\\n  \\\"text\\\": {\\n    \\\"font\\\": \\\"Segoe UI\\\",\\n    \\\"fontSize\\\": 12,\\n    \\\"fill\\\": \\\"#716E76\\\"\\n  },\\n  \\\"axis\\\": {\\n    \\\"ticks\\\": false,\\n    \\\"grid\\\": false,\\n    \\\"domain\\\": false,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"labelFontSize\\\": 12,\\n    \\\"titleFont\\\": \\\"din\\\",\\n    \\\"titleColor\\\": \\\"#192229\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleFontWeight\\\": \\\"normal\\\"\\n  },\\n  \\\"axisQuantitative\\\": {\\n    \\\"tickCount\\\": 3,\\n    \\\"grid\\\": true,\\n    \\\"gridColor\\\": \\\"#CFC493\\\",\\n    \\\"gridDash\\\": [\\n      1,\\n      5\\n    ],\\n    \\\"labelFlush\\\": false\\n  },\\n  \\\"axisX\\\": {\\n    \\\"labelPadding\\\": 5\\n  },\\n  \\\"axisY\\\": {\\n    \\\"labelPadding\\\": 10\\n  },\\n  \\\"header\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontSize\\\": 16,\\n    \\\"titleColor\\\": \\\"black\\\",\\n    \\\"titlePadding\\\":30,\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"grey\\\"\\n  },\\n  \\\"legend\\\": {\\n    \\\"titleFont\\\": \\\"Segoe UI\\\",\\n    \\\"titleFontWeight\\\": \\\"bold\\\",\\n    \\\"titleColor\\\": \\\"#716E76\\\",\\n    \\\"labelFont\\\": \\\"Segoe UI\\\",\\n    \\\"labelFontSize\\\": 13.333333333333332,\\n    \\\"labelColor\\\": \\\"#716E76\\\",\\n    \\\"symbolType\\\": \\\"circle\\\",\\n    \\\"symbolSize\\\": 75\\n  }\\n}\",\n    \"dataset\": [\n      {\n        \"key\": \"__0__\",\n        \"name\": \"Date\",\n        \"description\": \"Date Field\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      },\n      {\n        \"key\": \"__1__\",\n        \"name\": \"Full Weekday Name\",\n        \"description\": \"\u26a0\ufe0fMust be Full Name\",\n        \"kind\": \"column\",\n        \"type\": \"text\"\n      },\n      {\n        \"key\": \"__2__\",\n        \"name\": \"Value\",\n        \"description\": \"Value or Metric\",\n        \"kind\": \"column\",\n        \"type\": \"numeric\"\n      },\n      {\n        \"key\": \"__3__\",\n        \"name\": \"Time\",\n        \"description\": \"Time field\",\n        \"kind\": \"column\",\n        \"type\": \"dateTime\"\n      }\n    ]\n  },\n  \"data\": {\n    \"name\": \"dataset\"\n  },\n  // Create the figures for small multiples\n  \"facet\": {\n    \"field\": \"__1__\",\n    \"title\": \"Average Value by Time per Day of the Week\",\n    \"type\": \"ordinal\",\n    \"sort\": [\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n      \"Sunday\"\n    ],\n    \"header\": {\n      \"labelFontWeight\": \"bold\"\n    }\n  },\n  \"spec\": {\n    \"width\": 140,\n    \"height\": 450,\n    \"layer\": [\n      // layer of the transparent daily lines\n      {\n        \"mark\": {\n          \"type\": \"line\",\n          \"color\": {\n            \"expr\": \"pbiColor(0)\"\n          },\n          \"opacity\": 0.25,\n          \"strokeWidth\": 0.5\n        },\n        \"encoding\": {\n          \"x\": {\n            \"field\": \"__3__\",\n            \"type\": \"temporal\",\n            \"axis\": {\n              \"title\": null,\n              \"format\": \"HH\",\n              \"formatType\": \"pbiFormat\",\n              \"ticks\": false\n            }\n          },\n          \"y\": {\n            \"field\": \"__2__\",\n            \"type\": \"quantitative\",\n            \"title\": \"__2__\",\n            \"axis\": {\n              \"ticks\": true,\n              \"tickCount\": 10,\n              \"gridColor\": \"lightgrey\",\n              \"gridDash\": [\n                4,\n                0\n              ],\n              \"gridOpacity\": 0.4\n            }\n          },\n          \"detail\": {\n            \"field\": \"__0__\",\n            \"type\": \"temporal\"\n          }\n        }\n      },\n      // layer of the thick average line\n      {\n        \"transform\": [\n          {\n            \"aggregate\": [\n              {\n                \"op\": \"mean\",\n                \"field\": \"__2__\",\n                \"as\": \"Average\"\n              }\n            ],\n            \"groupby\": [\n              \"__1__\",\n              \"__3__\"\n            ]\n          },\n          {\n            \"sort\": [\n              {\n                \"field\": \"__3__\",\n                \"order\": \"ascending\"\n              }\n            ]\n          }\n        ],\n        \"mark\": {\n          \"type\": \"line\",\n          \"tooltip\": true,\n          \"color\": {\n            \"expr\": \"pbiColor(0)\"\n          },\n          \"strokeWidth\": 4\n        },\n        \"encoding\": {\n          \"x\": {\n            \"field\": \"__3__\",\n            \"type\": \"temporal\",\n            \"axis\": {\n              \"title\": null,\n              \"format\": \"HH\",\n              \"formatType\": \"pbiFormat\",\n              \"ticks\": false\n            }\n          },\n          \"y\": {\n            \"field\": \"Average\",\n            \"type\": \"quantitative\"\n          },\n          \"tooltip\": [\n            {\n              \"field\": \"__3__\",\n              \"type\": \"ordinal\",\n              \"title\": \"__3__\",\n              \"format\": \"hh:mm\",\n              \"formatType\": \"pbiFormat\"\n            },\n            {\n              \"field\": \"Average\",\n              \"type\": \"quantitative\",\n              \"format\": \"#,#.##\",\n              \"formatType\": \"pbiFormat\"\n            }\n          ]\n        }\n      }\n    ]\n  }\n}\n</code></pre>"}]}